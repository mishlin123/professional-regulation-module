# Supabase Backend Setup Guide

To enable real analytics (data persistence), you need to connect this app to Supabase.

## 1. Create Supabase Project
1.  Go to [supabase.com](https://supabase.com) and Sign Up / Log In.
2.  Click **"New Project"**.
3.  Name it `Professional Regulation`.
4.  Set a Database Password.
5.  Wait for it to setup.

## 2. Create the Database Tables
Go to the **SQL Editor** (sidebar) in Supabase and run this query to create the tables:

```sql
-- Table to store user progress
create table user_progress (
  id bigint generated by default as identity primary key,
  user_name text,
  course_id text,
  current_slide int,
  last_updated timestamp with time zone default timezone('utc'::text, now())
);

-- Table to store quiz results
create table quiz_results (
  id bigint generated by default as identity primary key,
  user_name text,
  question_id text,
  is_correct boolean,
  created_at timestamp with time zone default timezone('utc'::text, now())
);
```

## 3. Connect App to Supabase
1.  In Supabase, go to **Project Settings -> API**.
2.  Copy the `Project URL` and `anon public` Key.
3.  Open `src/services/supabaseClient.js` in your code.
4.  Replace the placeholder strings:
    ```javascript
    const supabaseUrl = 'YOUR_SUPABASE_URL_HERE' // Paste URL
    const supabaseAnonKey = 'YOUR_SUPABASE_ANON_KEY_HERE' // Paste Anon Key
    ```
5.  **Uncomment** the `supabase.from(...).insert` lines in `supabaseClient.js`.

## 4. Admin Dashboard
To view the data:
1.  We have built an Admin Dashboard at `/admin`.
2.  In the current PoC, log in with the name **"Admin"** to access it.
3.  Once Supabase is connected, update `fetchAnalytics` in `supabaseClient.js` to pull real data:
    ```javascript
    export const fetchAnalytics = async () => {
        const { data } = await supabase.from('quiz_results').select('*');
        // ... transform data ...
        return data;
    }
    ```
